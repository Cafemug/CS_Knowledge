# 트랜잭션

## 트랜잭션이란
 - 하나의 논리적 작업 단위를 이루는 연산들의 집합
 - 다양한 데이터 항목들을 액세스하고 갱신하는 프로그램 수행의 단위
 - 여러개의 쿼리문의 집합

## 트랜잭션의 성질(ACID)
- 원자성(Atomicity) : 트랜잭션의 모든 연산들을 정상적으로 수행 완료되거나 아니면 전혀 어떠한 연산도 수행되지 않은 원래 상태가 되도록 해야한다

- 일관성(Consistency) : 고립상태(즉, 동시에 수행되는 트랜잭션이 없는 상태)에서 트랜잭션 수행이 데이터베이스의 일관성을 보존하여야 한다

- 고립성(Isolation) : 여러 트랜잭션들이 동시에 수행되더라도, 서로 간섭할 수 없고 다른 트랜잭션이 동시에 수행하고 있는지를 알지 못한다.

- 지속성(Durability) : 트랜잭션이 성공적으로 수행완료 되고 나면, 트랜잭션에 의해 데이터베이스에 변경된 내용은 시스템에 오류가 발생한다 하더라도 지속되어야 한다.


## 트랜잭션 고립성 수준
- 직렬적(Serializable)은 직렬적 실행을 보장한다. 몇몇 데이터베이스 시스템은 특정한 경우 비직렬적인 실행을 허용하는 고립성 수준 구현함

- 반복 읽기(Repeatable Read)는 단지 커밋된 레코드들만 읽을 수 있고 한 트랜잭션이 한 레코드를 두 번 읽은 사이에ㅔ 다른 트랜잭션이 그 레코드를 갱신하지 못하도록 한다. 트랜잭션이 직력적이지 않을수 있음

- 읽기 완료(Read committed)는 커밋된 레코드들만 읽을 수 있지만 반복 읽기는 요구되지 않는 것이다. 예를 들어 한 트랜잭션이 한 레코드를 두 번 읽는 사이에 그 레코드는 다른 완료된 트랜잭션에 의해 갱신 가능

- 읽기 미완료(Read uncommitted)는 커밋되지 않는 데이터도 읽는다. SQL에서 허용하는 가장 낮은 수준의 고립성 수준

- 위의 모든 고립성 수준은 추가적으로 더티 기록(dirty write)를 허용하지 않음. 즉 커밋 또는 중단되지 않는 다른 트랜잭션이 기록한 데이터 ㅎ ㅏㅇ목에 대한 기록을 허용하지 않는다
- 보통은 Read committed 수준으로 동작함